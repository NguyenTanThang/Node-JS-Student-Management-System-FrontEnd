(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,a){e.exports=a(75)},51:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),c=a.n(s),l=(a(31),a(48),a(49),a(51),a(10)),o=a(19),u=a(1),i=a.n(u),m=a(2),d=a(3),p=a(4),h=a(5),g=a(6),b=a(7),f=a.n(b),v="https://node-js-sms-backend-123.herokuapp.com",E="".concat(v,"/students"),y=function(e){return"".concat(v,"/students/").concat(e)},_=function(e){return"".concat(v,"/students/class_name/").concat(e)},O="".concat(v,"/students/add"),N="".concat(v,"/students/login"),j="".concat(v,"/teachers"),C=function(e){return"".concat(v,"/teachers/").concat(e)},w=function(e){return"".concat(v,"/teachers/class_name/").concat(e)},S="".concat(v,"/teachers/add"),k="".concat(v,"/teachers/login"),x="".concat(v,"/admins"),A=function(e){return"".concat(v,"/admins/").concat(e)},T="".concat(v,"/admins/add"),D="".concat(v,"/admins/login"),I="".concat(v,"/classes"),L=function(e){return"".concat(v,"/classes/").concat(e)},M="".concat(v,"/classes/add"),R=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,null!=t&&void 0!=t){e.next=3;break}return e.abrupt("return",{});case 3:return e.next=5,f.a.get(C(t));case 5:if(n=e.sent,null!=(a=n.data.data)){e.next=12;break}return e.next=10,f.a.get(y(t));case 10:r=e.sent,a=r.data.data;case 12:if(null!=a){e.next=17;break}return e.next=15,f.a.get(A(t));case 15:s=e.sent,a=s.data.data;case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),a={},e.next=4,R(t);case 4:a=e.sent,this.setState({user:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user,t=e.role,a=e.assigned_classroom,n=localStorage.getItem("user_id"),s=null===n||void 0===n?r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/"},"Login")):r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link text-danger",to:"/logout"},"Logout")),c="teacher"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/teachers/details/".concat(n)},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/classes/details/".concat(a)},"Your Class"))):"",o="student"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/students/details/".concat(n)},"Profile"))):"",u="admin"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/classes"},"Classes")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/students"},"Students")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/teachers"},"Teachers"))):"";return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"navbar-brand"},"CMS System"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},c,o,u,s))))}}]),a}(n.Component),q=a(8),G="SET_MESSAGE",U=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){void 0!==localStorage.getItem("token")&&this.props.userLogout(),this.props.history.push("/"),window.location.reload()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component),B=Object(q.b)(null,(function(e){return{userLogout:function(){e((function(e){return e({type:"USER_LOGOUT"})}))}}}))(U),H=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"home-login"},r.a.createElement("h1",null,"Student Management System"),r.a.createElement(l.b,{to:"/students/login",className:"btn btn-primary btn-block"},"Login as Student"),r.a.createElement(l.b,{to:"/teachers/login",className:"btn btn-success btn-block"},"Login as Teacher"),r.a.createElement(l.b,{to:"/admins/login",className:"btn btn-info btn-block"},"Login as Admin")))}}]),a}(n.Component),F=a(12),Y=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.clearMessage()}),300)}},{key:"render",value:function(){var e=this.props,t=e.message,a=e.msg_type,n=t;return r.a.createElement("div",{className:"alert alert-".concat(a),role:"alert"},n)}}]),a}(n.Component),V=Object(q.b)((function(e){return{message:e.messageReducer.message,msg_type:e.messageReducer.msg_type}}),(function(e){return{clearMessage:function(){e((function(e){e({type:"CLEAR_MESSAGE"})}))}}}))(Y),W=function(){return function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],e.next=4,f.a.get(I);case 4:if(n=e.sent,r=n.data,s=r.data,c=r.success,l=r.message,a=s,!1!==c){e.next=9;break}return e.abrupt("return",t({type:G,payload:{message:l,msg_type:"danger"}}));case 9:return e.abrupt("return",t({type:"GET_ALL_CLASSES",payload:{classes:a}}));case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",t({type:G,payload:{message:e.t0.response.data.message,msg_type:"danger"}}));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},X=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={class_name:""},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onCreateClass=function(t){t.preventDefault();var a=e.state.class_name;e.props.addClass({class_name:a}),e.setState({class_name:""},(function(){e.props.history.push("/classes")}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.class_name;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"Add Student Form"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onCreateClass},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Class Name:"),r.a.createElement("input",{type:"text",id:"class_name",name:"class_name",className:"form-control",placeholder:"Class Name",value:e,onChange:this.onChange,required:!0,minLength:"5",maxLength:"12"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-block btn-primary"},"Create Class"))))}}]),a}(n.Component),J=Object(q.b)(null,(function(e){return{addClass:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(M,e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"ADD_CLASS",payload:{classItem:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(X),$=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classItem,a=e.deleteClass,n=t.class_name,s=t._id,c=t.created_date;return r.a.createElement("div",{className:"list-group-item"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/classes/details/".concat(n)},r.a.createElement("h4",null,n)),r.a.createElement("h5",null,"Created Date: ",c)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{className:"btn btn-warning",to:"/classes/edit/".concat(s)},"Edit")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return a(s)},className:"btn btn-danger"},"Delete"))))}}]),a}(n.Component),z=Object(q.b)(null,(function(e){return{deleteClass:function(t){e(function(e){return console.log(e),function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete((o=e,"".concat(v,"/classes/delete/").concat(o)));case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,console.log(s),!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"DELETE_CLASS",payload:{deletedClassID:e}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}var o}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))($),K=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllClasses()}},{key:"render",value:function(){var e=this.props.classes.map((function(e){return r.a.createElement(z,{classItem:e,key:e._id})}));return r.a.createElement("div",{className:"container"},r.a.createElement(l.b,{to:"/classes/add",className:"btn btn-primary"},"Add Class"),r.a.createElement("div",{className:"list-group"},e))}}]),a}(n.Component),Q=Object(q.b)((function(e){return{classes:e.classReducer.classes}}),(function(e){return{getAllClasses:function(){e(W())}}}))(K),Z=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={class_name:"",class_item:{}},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onCreateClass=function(t){t.preventDefault();var a=e.state,n=a.class_name,r=a.class_item;r.class_name=n,e.props.editClass(r),e.setState({class_name:"",class_item:{}},(function(){e.props.history.push("/classes")}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(L(this.props.match.params.class_id));case 2:t=e.sent,a=t.data.data,this.setState({class_name:a.class_name,class_item:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.class_name;return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"Edit Student Form"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onCreateClass},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Class Name:"),r.a.createElement("input",{type:"text",id:"class_name",name:"class_name",className:"form-control",placeholder:"Class Name",value:e,onChange:this.onChange,required:!0,minLength:"5",maxLength:"12"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-block btn-primary"},"Update Class"))))}}]),a}(n.Component),ee=Object(q.b)(null,(function(e){return{editClass:function(t){return e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.put((u=e._id,"".concat(v,"/classes/edit/").concat(u)),e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"EDIT_CLASS",payload:{classItem:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}var u}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Z),te=function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete((u=e._id,"".concat(v,"/students/delete/").concat(u)));case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"DELETE_STUDENT",payload:{student:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}var u}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},ae=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={role:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:a=e.sent,this.setState({role:a.role});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.studentItem,t=e._id,a=e.name,n=e.dob,s="admin"===this.state.role?r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{className:"btn btn-warning",to:"/students/edit/".concat(t)},"Edit")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return te(e)},className:"btn btn-danger"},"Delete"))):"";return r.a.createElement("div",{className:"list-group-item"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/students/details/".concat(t)},r.a.createElement("h4",null,a)),r.a.createElement("h5",null,"Date of Birth: ",n)),s)}}]),a}(n.Component),ne=Object(q.b)(null,(function(e){return{deleteStudent:function(t){e(te(t))}}}))(ae),re=function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete((u=e._id,"".concat(v,"/teachers/delete/").concat(u)));case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"DELETE_TEACHER",payload:{teacher:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}var u}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},se=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={role:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:a=e.sent,this.setState({role:a.role});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.teacherItem,t=e._id,a=e.name,n=e.dob,s="admin"===this.state.role?r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{className:"btn btn-warning",to:"/teachers/edit/".concat(t)},"Edit")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return re(e)},className:"btn btn-danger"},"Delete"))):"";return r.a.createElement("div",{className:"list-group-item"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/teachers/details/".concat(t)},r.a.createElement("h4",null,a)),r.a.createElement("h5",null,"Date of Birth: ",n)),s)}}]),a}(n.Component),ce=Object(q.b)(null,(function(e){return{deleteTeacher:function(t){e(re(t))}}}))(se),le=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={teacher:{},students:[]},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.class_name,e.next=3,f.a.get(_(t));case 3:return a=e.sent,n=a.data.data,e.next=7,f.a.get(w(t));case 7:a=e.sent,r=a.data.data,this.setState({students:n,teacher:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.students,a=e.teacher,n=0===t.length?r.a.createElement("h2",null,"There is no student in this class"):t.map((function(e){return r.a.createElement(ne,{studentItem:e})})),s=null===a?r.a.createElement("h2",null,"There is no teacher in this class"):r.a.createElement(ce,{teacherItem:a});return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Teacher"),r.a.createElement("ul",{className:"list-group"},s),r.a.createElement("h2",null,"Students"),r.a.createElement("ul",{className:"list-group"},n))}}]),a}(n.Component),oe=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",phone_number:"",dob:"",address:"",email:"",password:"",assigned_classroom:""},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onAddStudent=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.phone_number,s=a.dob,c=a.address,l=a.email,o=a.password,u=a.assigned_classroom;e.props.addStudent({name:n,phone_number:r,dob:s,address:c,email:l,password:o,assigned_classroom:u}),e.setState({name:"",phone_number:"",dob:"",address:"",email:"",password:""},(function(){}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:null!=(a=e.sent)&&"admin"==a.role||this.props.history.push("/"),"student"==a.role&&this.props.history.push("/students/details/".concat(t)),"teacher"==a.role&&this.props.history.push("/teachers/details/".concat(t)),this.props.getAllClasses();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.name,a=e.phone_number,n=e.dob,s=e.address,c=e.email,l=e.password,o=(e.assigned_classroom,this.props.classes.map((function(e,t){return r.a.createElement("option",{key:e._id,value:e.class_name},e.class_name)})));return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Add Student Form"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onAddStudent,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"form-control",placeholder:"Name",type:"text",id:"name",name:"name",onChange:this.onChange,required:!0,value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Phone Number:"),r.a.createElement("input",{className:"form-control",placeholder:"Phone Number",type:"text",id:"phone_number",name:"phone_number",onChange:this.onChange,required:!0,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date of Birth:"),r.a.createElement("input",{className:"form-control",type:"date",id:"dob",name:"dob",onChange:this.onChange,required:!0,value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"form-control",placeholder:"Email",type:"email",id:"email",name:"email",onChange:this.onChange,required:!0,value:c})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",placeholder:"Password",type:"password",id:"password",name:"password",onChange:this.onChange,required:!0,value:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Address:"),r.a.createElement("textarea",{className:"form-control",placeholder:"Address",id:"address",name:"address",onChange:this.onChange,value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Assigned Classroom:"),r.a.createElement("select",{required:!0,id:"assigned_classroom",className:"custom-select",onChange:this.onChange},r.a.createElement("option",{key:"0",value:"none",defaultValue:!0,selected:!0,disabled:!0},"None"),o)),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Create Student"))))}}]),a}(n.Component),ue=Object(q.b)((function(e){return{classes:e.classReducer.classes}}),(function(e){return{addStudent:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(O,e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"ADD_STUDENT",payload:{student:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getAllClasses:function(){e(W())}}}))(oe),ie=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",phone_number:"",dob:"",address:"",assigned_classroom:"",student_item:{}},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onEditStudent=function(t){var a=e.state,n=a.name,r=a.phone_number,s=a.dob,c=a.address,l=a.assigned_classroom,o=a.student_item;o.name=n,o.phone_number=r,o.dob=s,o.address=c,o.assigned_classroom=l,e.props.editStudent(o),e.setState({name:"",phone_number:"",dob:"",address:"",assigned_classroom:"",student_item:{}},(function(){}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r,s,c,l,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:return null!=(a=e.sent)&&"admin"==a.role||this.props.history.push("/"),"student"==a.role&&this.props.history.push("/students/details/".concat(t)),"teacher"==a.role&&this.props.history.push("/teachers/details/".concat(t)),this.props.getAllClasses(),e.next=10,f.a.get(y(this.props.match.params.student_id));case 10:n=e.sent,r=n.data.data,s=r.name,c=r.phone_number,l=r.dob,o=r.address,u=r.assigned_classroom,this.setState({student_item:n.data.data,name:s,phone_number:c,dob:l,address:o,assigned_classroom:u});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.class_name,a=e.name,n=e.dob,s=e.phone_number,c=e.address,l=this.props.classes.map((function(e,a){return e.class_name===t?r.a.createElement("option",{key:e._id,defaultValue:!0,selected:!0,value:e.class_name},e.class_name):r.a.createElement("option",{key:e._id,value:e.class_name},e.class_name)}));return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Edit Student Form"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onEditStudent,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"form-control",placeholder:"Name",type:"text",id:"name",name:"name",onChange:this.onChange,value:a,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Phone Number:"),r.a.createElement("input",{className:"form-control",placeholder:"Phone Number",type:"text",id:"phone_number",name:"phone_number",onChange:this.onChange,value:s,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date of Birth:"),r.a.createElement("input",{className:"form-control",type:"date",id:"dob",name:"dob",onChange:this.onChange,value:n,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Address:"),r.a.createElement("textarea",{className:"form-control",placeholder:"Address",id:"address",name:"address",value:c,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Assigned Classroom:"),r.a.createElement("select",{required:!0,className:"custom-select",id:"assigned_classroom",onChange:this.onChange},l)),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Update Student"))))}}]),a}(n.Component),me=Object(q.b)((function(e){return{classes:e.classReducer.classes}}),(function(e){return{editStudent:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.put((u=e._id,"".concat(v,"/students/edit/").concat(u)),e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"EDIT_STUDENT",payload:{student:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}var u}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getAllClasses:function(){e(W())}}}))(ie),de=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:null!=(a=e.sent)&&"admin"==a.role||this.props.history.push("/"),"student"==a.role&&this.props.history.push("/students/details/".concat(t)),"teacher"==a.role&&this.props.history.push("/teachers/details/".concat(t)),this.props.getAllStudents();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.students.map((function(e){return r.a.createElement(ne,{studentItem:e})}));return r.a.createElement("div",{className:"container"},r.a.createElement(l.b,{to:"/students/add",className:"btn btn-primary"},"Add Student"),r.a.createElement("ul",{className:"list-group"},e))}}]),a}(n.Component),pe=Object(q.b)((function(e){return{students:e.studentReducer.students}}),(function(e){return{getAllStudents:function(){e(function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(E);case 3:if(a=e.sent,n=a.data,r=n.data,s=n.success,c=n.message,l=r,!1!==s){e.next=8;break}return e.abrupt("return",t({type:G,payload:{message:c,msg_type:"danger"}}));case 8:return e.abrupt("return",t({type:"GET_ALL_STUDENTS",payload:{students:l,message:c,msg_type:"success"}}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",t({type:G,payload:{message:e.t0.response.data.message,msg_type:"danger"}}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))(de),he=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onStudentLogin=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;e.props.studentLogin({email:n,password:r}),setTimeout((function(){void 0!==localStorage.getItem("user_id")&&(e.props.history.push("/students/details/".concat(localStorage.getItem("user_id"))),window.location.reload())}),500)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){void 0===localStorage.getItem("token")&&this.props.history.push("/logout")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container login-container"},r.a.createElement("h1",null,"Student Login"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onStudentLogin,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email",id:"email",name:"email",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",id:"password",name:"password",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login"))))}}]),a}(n.Component),ge=Object(q.b)(null,(function(e){return{studentLogin:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(N,e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=n.data.token,u=s._id,!1!==c){t.next=9;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 9:if(null!==s){t.next=11;break}return t.abrupt("return",a({type:G,payload:{message:"Wrong email or password",msg_type:"danger"}}));case 11:return t.abrupt("return",a({type:"USER_LOGIN",payload:{user_id:u,token:o,date:Date.now()}}));case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(he),be=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={student_item:{}},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:return null==e.sent&&this.props.history.push("/"),e.next=7,f.a.get(y(this.props.match.params.student_id));case 7:a=e.sent,this.setState({student_item:a.data.data});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.student_item,t=e.name,a=e.dob,n=e.email,s=e.assigned_classroom,c=e.phone_number,l=e.address,o=e.created_date;return r.a.createElement("div",{className:"container detail-container"},r.a.createElement("h1",{className:"text-center"},t),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Date of Birth: "),a),r.a.createElement("li",null,r.a.createElement("b",null,"Email: "),n),r.a.createElement("li",null,r.a.createElement("b",null,"Assigned Classroom: "),s))),r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Phone Number: "),c),r.a.createElement("li",null,r.a.createElement("b",null,"Address: "),l),r.a.createElement("li",null,r.a.createElement("b",null,"Enrolled Date: "),o)))))}}]),a}(n.Component),fe=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",phone_number:"",dob:"",address:"",email:"",password:"",assigned_classroom:""},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onAddTeacher=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.phone_number,s=a.dob,c=a.address,l=a.email,o=a.password,u=a.assigned_classroom;e.props.addTeacher({name:n,phone_number:r,dob:s,address:c,email:l,password:o,assigned_classroom:u}),e.setState({name:"",phone_number:"",dob:"",address:"",email:"",password:"",assigned_classroom:""},(function(){}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:null!=(a=e.sent)&&"admin"==a.role||this.props.history.push("/"),"student"==a.role&&this.props.history.push("/students/details/".concat(t)),"teacher"==a.role&&this.props.history.push("/teachers/details/".concat(t)),this.props.getAllClasses();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes.map((function(e,t){return r.a.createElement("option",{key:e._id,value:e.class_name},e.class_name)}));return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Add Teacher Form"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onAddTeacher,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"form-control",placeholder:"Name",type:"text",id:"name",name:"name",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Phone Number:"),r.a.createElement("input",{className:"form-control",placeholder:"Phone Number",type:"text",id:"phone_number",name:"phone_number",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date of Birth:"),r.a.createElement("input",{className:"form-control",type:"date",id:"dob",name:"dob",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"form-control",placeholder:"Email",type:"email",id:"email",name:"email",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",placeholder:"Password",type:"password",id:"password",name:"password",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Address:"),r.a.createElement("textarea",{className:"form-control",placeholder:"Address",id:"address",name:"address",onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Assigned Classroom:"),r.a.createElement("select",{required:!0,id:"assigned_classroom",className:"custom-select",onChange:this.onChange},r.a.createElement("option",{key:"0",value:"none",defaultValue:!0,selected:!0,disabled:!0},"None"),e)),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Create Teacher"))))}}]),a}(n.Component),ve=Object(q.b)((function(e){return{classes:e.classReducer.classes}}),(function(e){return{addTeacher:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(S,e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"ADD_TEACHER",payload:{teacher:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getAllClasses:function(){e(W())}}}))(fe),Ee=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",phone_number:"",dob:"",address:"",assigned_classroom:"",teacher_item:{}},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onEditTeacher=function(t){var a=e.state,n=a.name,r=a.phone_number,s=a.dob,c=a.address,l=a.assigned_classroom,o=a.teacher_item;o.name=n,o.phone_number=r,o.dob=s,o.address=c,o.assigned_classroom=l,e.props.editTeacher(o),e.setState({name:"",phone_number:"",dob:"",address:"",assigned_classroom:"",student_item:{}},(function(){}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r,s,c,l,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:return null!=(a=e.sent)&&"admin"==a.role||this.props.history.push("/"),"student"==a.role&&this.props.history.push("/students/details/".concat(t)),"teacher"==a.role&&this.props.history.push("/teachers/details/".concat(t)),this.props.getAllClasses(),e.next=10,f.a.get(C(this.props.match.params.teacher_id));case 10:n=e.sent,r=n.data.data,s=r.name,c=r.phone_number,l=r.dob,o=r.address,u=r.assigned_classroom,this.setState({teacher_item:n.data.data,name:s,phone_number:c,dob:l,address:o,assigned_classroom:u});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.class_name,a=e.name,n=e.dob,s=e.phone_number,c=e.address,l=this.props.classes.map((function(e,a){return e.class_name===t?r.a.createElement("option",{key:e._id,defaultValue:!0,selected:!0,value:e.class_name},e.class_name):r.a.createElement("option",{key:e._id,value:e.class_name},e.class_name)}));return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Edit Teacher Form"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onEditTeacher,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Name",type:"text",id:"name",name:"name",onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Phone Number:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Phone Number",type:"text",id:"phone_number",name:"phone_number",onChange:this.onChange,value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date of Birth:"),r.a.createElement("input",{required:!0,className:"form-control",type:"date",id:"dob",name:"dob",onChange:this.onChange,value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Address:"),r.a.createElement("textarea",{className:"form-control",placeholder:"Address",id:"address",name:"address",value:c,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Assigned Classroom:"),r.a.createElement("select",{required:!0,className:"custom-select",id:"assigned_classroom",onChange:this.onChange},l)),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Update Teacher"))))}}]),a}(n.Component),ye=Object(q.b)((function(e){return{classes:e.classReducer.classes}}),(function(e){return{editTeacher:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.put((u=e._id,"".concat(v,"/teachers/edit/").concat(u)),e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return a({type:G,payload:{message:l,msg_type:"success"}}),t.abrupt("return",a({type:"EDIT_TEACHER",payload:{teacher:o}}));case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 15:case"end":return t.stop()}var u}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getAllClasses:function(){e(W())}}}))(Ee),_e=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:null!=(a=e.sent)&&"admin"==a.role||this.props.history.push("/"),"student"==a.role&&this.props.history.push("/students/details/".concat(t)),"teacher"==a.role&&this.props.history.push("/teachers/details/".concat(t)),this.props.getAllTeachers();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.teachers.map((function(e){return r.a.createElement(ce,{teacherItem:e})}));return r.a.createElement("div",{className:"container"},r.a.createElement(l.b,{to:"/teachers/add",className:"btn btn-primary"},"Add Teacher"),r.a.createElement("ul",{className:"list-group"},e))}}]),a}(n.Component),Oe=Object(q.b)((function(e){return{teachers:e.teacherReducer.teachers}}),(function(e){return{getAllTeachers:function(){e(function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(j);case 3:if(a=e.sent,n=a.data,r=n.data,s=n.success,c=n.message,l=r,!1!==s){e.next=8;break}return e.abrupt("return",t({type:G,payload:{message:c,msg_type:"danger"}}));case 8:return e.abrupt("return",t({type:"GET_ALL_TEACHERS",payload:{teachers:l,message:c,msg_type:"success"}}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",t({type:G,payload:{message:e.t0.response.data.message,msg_type:"danger"}}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))(_e),Ne=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onTeacherLogin=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;e.props.teacherLogin({email:n,password:r}),setTimeout((function(){void 0!=localStorage.getItem("token")&&(e.props.history.push("/teachers/details/".concat(localStorage.getItem("user_id"))),window.location.reload())}),1e3)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){void 0===localStorage.getItem("token")&&this.props.history.push("/logout")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container login-container"},r.a.createElement("h1",null,"Teacher Login"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onTeacherLogin,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email",id:"email",name:"email",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",id:"password",name:"password",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login"))))}}]),a}(n.Component),je=Object(q.b)(null,(function(e){return{teacherLogin:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(k,e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=n.data.token,u=s._id,!1!==c){t.next=9;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 9:if(null!==s){t.next=11;break}return t.abrupt("return",a({type:G,payload:{message:"Wrong email or password",msg_type:"danger"}}));case 11:return t.abrupt("return",a({type:"USER_LOGIN",payload:{user_id:u,token:o,date:Date.now()}}));case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ne),Ce=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={teacher_item:{}},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,R(t);case 3:return"student"==(a=e.sent).role&&this.props.history.push("/students/details/".concat(t)),console.log(a),(null==a||"admin"!==a.role&"teacher"!==a.role)&&this.props.history.push("/"),e.next=9,f.a.get(C(this.props.match.params.teacher_id));case 9:n=e.sent,this.setState({teacher_item:n.data.data});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.teacher_item,t=e.name,a=e.dob,n=e.email,s=e.assigned_classroom,c=e.phone_number,l=e.address,o=e.created_date;return r.a.createElement("div",{className:"container detail-container"},r.a.createElement("h1",{className:"text-center"},t),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Date of Birth: "),a),r.a.createElement("li",null,r.a.createElement("b",null,"Email: "),n),r.a.createElement("li",null,r.a.createElement("b",null,"Assigned Classroom: "),s))),r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Phone Number: "),c),r.a.createElement("li",null,r.a.createElement("b",null,"Address: "),l),r.a.createElement("li",null,r.a.createElement("b",null,"Enrolled Date: "),o)))))}}]),a}(n.Component),we=function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(D,e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,r.message,l=n.data.token,o=s._id,!1!==c){t.next=9;break}return t.abrupt("return",a({type:G,payload:{message:"Wrong email or password",msg_type:"danger"}}));case 9:if(null!==s){t.next=11;break}return t.abrupt("return",a({type:G,payload:{message:"Wrong email or password",msg_type:"danger"}}));case 11:return t.abrupt("return",a({type:"USER_LOGIN",payload:{user_id:o,token:l,date:Date.now()}}));case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.adminItem;return r.a.createElement("div",null,r.a.createElement("h4",null,e.email),r.a.createElement("h5",null,e.verified))}}]),a}(n.Component),ke=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllAdmins()}},{key:"render",value:function(){var e=this.props.admins.map((function(e){return r.a.createElement(Se,{adminItem:e})}));return r.a.createElement("div",null,e)}}]),a}(n.Component),xe=Object(q.b)((function(e){return{admins:e.adminReducer.admins}}),(function(e){return{getAllAdmins:function(){e(function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(x);case 3:if(a=e.sent,n=a.data,r=n.data,s=n.success,c=n.message,l=r,!1!==s){e.next=8;break}return e.abrupt("return",t({type:G,payload:{message:c,msg_type:"danger"}}));case 8:return e.abrupt("return",t({type:"GET_ALL_ADMINS",payload:{admins:l,message:c,msg_type:"success"}}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",t({type:G,payload:{message:e.t0.response.data.message,msg_type:"danger"}}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))(ke),Ae=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onAdminLogin=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;e.props.adminLogin({email:n,password:r}),setTimeout((function(){void 0!=localStorage.getItem("token")&&(e.props.history.push("/classes"),window.location.reload())}),1e3)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){void 0===localStorage.getItem("token")&&this.props.history.push("/logout")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container login-container"},r.a.createElement("h1",null,"Admin Login"),r.a.createElement(V,null),r.a.createElement("form",{onSubmit:this.onAdminLogin,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email",id:"email",name:"email",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",id:"password",name:"password",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login"))))}}]),a}(n.Component),Te=Object(q.b)(null,(function(e){return{adminLogin:function(t){e(we(t))}}}))(Ae),De=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.onAdminLogin=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;e.props.addAdmin({email:n,password:r}),e.props.adminAccount({email:n,password:r})},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onAdminLogin,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email",id:"email",name:"email",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",id:"password",name:"password",onChange:this.onChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Sign Up"))))}}]),a}(n.Component),Ie=Object(q.b)(null,(function(e){return{adminLogin:function(t){e(we(t))},addAdmin:function(t){e(function(e){return function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,s,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(T,e);case 3:if(n=t.sent,r=n.data,s=r.data,c=r.success,l=r.message,o=s,!1!==c){t.next=8;break}return t.abrupt("return",a({type:G,payload:{message:l,msg_type:"danger"}}));case 8:return t.abrupt("return",a({type:"ADD_ADMIN",payload:{admin:o,message:l,msg_type:"success"}}));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",a({type:G,payload:{message:t.t0.response.data.message,msg_type:"danger"}}));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(De);var Le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(P,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/classes/edit/:class_name",component:ee}),r.a.createElement(o.a,{path:"/classes",exact:!0,component:Q}),r.a.createElement(o.a,{path:"/classes/add",component:J}),r.a.createElement(o.a,{path:"/classes/details/:class_name",component:le}),r.a.createElement(o.a,{path:"/admins",exact:!0,component:xe}),r.a.createElement(o.a,{path:"/admins/login",component:Te}),r.a.createElement(o.a,{path:"/admins/signup",component:Ie}),r.a.createElement(o.a,{path:"/students",exact:!0,component:pe}),r.a.createElement(o.a,{path:"/students/edit/:student_id",component:me}),r.a.createElement(o.a,{path:"/students/add",component:ue}),r.a.createElement(o.a,{path:"/students/login",component:ge}),r.a.createElement(o.a,{path:"/students/details/:student_id",component:be}),r.a.createElement(o.a,{path:"/teachers",exact:!0,component:Oe}),r.a.createElement(o.a,{path:"/teachers/edit/:teacher_id",component:ye}),r.a.createElement(o.a,{path:"/teachers/add",component:ve}),r.a.createElement(o.a,{path:"/teachers/login",component:je}),r.a.createElement(o.a,{path:"/teachers/details/:teacher_id",component:Ce}),r.a.createElement(o.a,{path:"/logout",component:B}),r.a.createElement(o.a,{path:"/",exact:!0,component:H}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=a(18),Re=a(42),Pe=a(21),qe=a(9),Ge={admins:[],admin:{}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ADMIN":return Object(qe.a)({},e,{admins:[].concat(Object(Pe.a)(e.admins),[t.payload.admin])});case"EDIT_ADMIN":return Object(qe.a)({},e,{admins:e.admins.map((function(e){return e._id===t.payload.admin._id?t.payload.admin:e}))});case"GET_ALL_ADMINS":return Object(qe.a)({},e,{admins:t.payload.admins});case"GET_ADMIN_BY_ID":return Object(qe.a)({},e,{admin:t.payload.admin});default:return e}},Be={message:null,msg_type:""},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(qe.a)({},e,{message:t.payload.message,msg_type:t.payload.msg_type});case"CLEAR_MESSAGE":return Object(qe.a)({},e,{message:null,msg_type:""});default:return e}},Fe={students:[],student:{}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_STUDENTS":return Object(qe.a)({},e,{students:t.payload.students});case"GET_STUDENT_BY_ID":return Object(qe.a)({},e,{student:t.payload.student});case"GET_STUDENTS_BY_NAME":return Object(qe.a)({},e,{students:t.payload.students});case"ADD_STUDENT":return Object(qe.a)({},e,{students:[].concat(Object(Pe.a)(e.students),[t.payload.student])});case"EDIT_STUDENT":return Object(qe.a)({},e,{students:e.students.map((function(e){return e._id===t.payload.student._id?t.payload.student:e}))});case"DELETE_STUDENT":return Object(qe.a)({},e,{students:e.students.filter((function(e){return e._id!==t.payload.student._id}))});default:return e}},Ve={teachers:[],teacher:{}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_TEACHERS":return Object(qe.a)({},e,{teachers:t.payload.teachers});case"GET_TEACHER_BY_ID":return Object(qe.a)({},e,{teacher:t.payload.teacher});case"GET_TEACHERS_BY_NAME":return Object(qe.a)({},e,{teachers:t.payload.teachers});case"ADD_TEACHER":return Object(qe.a)({},e,{teachers:[].concat(Object(Pe.a)(e.teachers),[t.payload.teacher])});case"EDIT_TEACHER":return Object(qe.a)({},e,{teachers:e.teachers.map((function(e){return e._id===t.payload.teacher._id?t.payload.teacher:e}))});case"DELETE_TEACHER":return Object(qe.a)({},e,{teachers:e.teachers.filter((function(e){return e._id!==t.payload.teacher._id}))});default:return e}},Xe={token:null,date:null,user_id:""},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return localStorage.setItem("token",t.payload.token),localStorage.setItem("date",t.payload.date),localStorage.setItem("user_id",t.payload.user_id),Object(qe.a)({},e,{token:localStorage.getItem("token"),date:localStorage.getItem("date"),user_id:localStorage.getItem("user_id")});case"USER_LOGOUT":return localStorage.removeItem("token"),localStorage.removeItem("date"),localStorage.removeItem("user_id"),Object(qe.a)({},e,{token:null,date:null,user_id:null});default:return e}},$e={classes:[],classItem:{}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CLASS":return Object(qe.a)({},e,{classes:e.classes.concat(t.payload.classItem)});case"EDIT_CLASS":return Object(qe.a)({},e,{classes:e.classes.map((function(e){return e._id===t.payload.classItem._id?t.payload.classItem:e}))});case"GET_ALL_CLASSES":return Object(qe.a)({},e,{classes:t.payload.classes});case"GET_CLASS_BY_ID":return Object(qe.a)({},e,{classItem:t.payload.classItem});case"GET_CLASSES_BY_NAME":return Object(qe.a)({},e,{classes:t.payload.classes});case"DELETE_CLASS":return Object(qe.a)({},e,{classes:e.classes.filter((function(e){return e._id!==t.payload.deletedClassID}))});default:return e}},Ke=Object(Me.c)({adminReducer:Ue,messageReducer:He,studentReducer:Ye,teacherReducer:We,userReducer:Je,classReducer:ze}),Qe=Object(Me.e)(Ke,Object(Me.d)(Object(Me.a)(Re.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(q.a,{store:Qe},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.1d958003.chunk.js.map